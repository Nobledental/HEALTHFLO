/* =========================================================
   HealthFlo — Premium UI System
   - Night / Day / Aurora / Clinic / Contrast themes
   - NEW: iOS (White/Matt) theme, Android 4K neon effect
   - Role tabs bubble, hero morph stage, marquee "Cities"
   - Glassmorphism cards, toast, footer socials
   - Spacing, typography, accessibility, responsive
   ========================================================= */

/* ---------- Reset / A11y ---------- */
*,*::before,*::after{box-sizing:border-box}
*{margin:0;padding:0}
html,body{height:100%}
html{scroll-behavior:smooth;text-size-adjust:100%}
:focus{outline:none}
.using-keyboard :focus-visible{outline:2px solid rgba(120,240,255,.85);outline-offset:3px;border-radius:8px}
img,svg,video,canvas{display:block;max-width:100%}
input,button,textarea,select{font:inherit;color:inherit}
a{text-decoration:none;color:inherit}
button{border:0;background:none;cursor:pointer}
.skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip:focus{position:fixed;left:12px;top:12px;padding:.5rem 1rem;background:#fff;color:#000;border-radius:10px;z-index:999}

/* ---------- Tokens / Foundations ---------- */
:root{
  /* Surfaces / Inks */
  --page:
    radial-gradient(60vw 60vw at 10% 10%, rgba(124,92,255,.18), transparent 55%),
    radial-gradient(60vw 60vw at 85% 15%, rgba(120,240,255,.16), transparent 55%),
    linear-gradient(180deg,#050816 0%,#070b1a 100%);
  --surface-1: rgba(12,16,35,.74);
  --surface-2: rgba(20,26,56,.82);
  --line: rgba(148,163,184,.18);
  --ink: #f6f8ff; --muted:#cfe1ff;

  /* Brand & persona accents (default Night) */
  --brand1:#7c5cff; --brand2:#78f0ff;
  --p1:#78f0ff; --p2:#7c5cff;

  /* Effects */
  --radius:22px;
  --shadow:0 30px 80px rgba(10,15,38,.55);
  --ring:0 0 0 3px rgba(124,92,255,.32);
  --toast-bg: rgba(12,16,35,.94);

  /* Spacing & Type */
  --s-1:.55rem; --s-2:.9rem; --s-3:1.4rem; --s-4:2.2rem; --s-5:3.2rem;
  --fs-100:.88rem; --fs-200:.96rem; --fs-300:1.05rem;
  --fs-h1:clamp(2.4rem,5.5vw,4.4rem);
  --fs-h2:clamp(1.8rem,2.5vw,2.4rem);
  --fs-h3:1.18rem;

  /* Android 4K effect */
  --grid-alpha: .06;
  --hdr-pop: .95;
}

/* Persona modes (accent swap) */
.mode--patient{ --p1:#78f0ff; --p2:#7c5cff; }
.mode--hospital{ --p1:#34d399; --p2:#22d3ee; }
.mode--insurer{ --p1:#ff86b5; --p2:#8b5cf6; }

/* ---------- Themes ---------- */
.theme--night{
  --page:
    radial-gradient(60vw 60vw at 10% 10%, rgba(124,92,255,.18), transparent 55%),
    radial-gradient(60vw 60vw at 85% 15%, rgba(120,240,255,.16), transparent 55%),
    linear-gradient(180deg,#050816 0%,#070b1a 100%);
  --surface-1: rgba(12,16,35,.74);
  --surface-2: rgba(20,26,56,.82);
  --line: rgba(148,163,184,.18);
  --ink:#f6f8ff; --muted:#cfe1ff;
  --brand1:#7c5cff; --brand2:#78f0ff;
  --shadow:0 30px 80px rgba(10,15,38,.55);
}
.theme--day{
  --page:linear-gradient(180deg,#f7fbff 0%,#eef5ff 100%);
  --surface-1:#ffffffea; --surface-2:#fff;
  --line:rgba(6,9,21,.14);
  --ink:#0b1222; --muted:#4b5b86;
  --brand1:#3b82f6; --brand2:#22d3ee;
  --shadow:0 20px 50px rgba(14,22,48,.15);
}
.theme--aurora{
  --page:
    radial-gradient(70vw 60vw at 10% 10%, rgba(34,211,238,.18), transparent 55%),
    radial-gradient(60vw 60vw at 85% 15%, rgba(236,72,153,.16), transparent 55%),
    #060915;
  --surface-1: rgba(10,18,24,.78); --surface-2: rgba(10,24,22,.84);
  --line: rgba(160,220,255,.24);
}
.theme--clinic{
  --page:
    radial-gradient(70vw 60vw at 10% 10%, rgba(34,211,238,.18), transparent 55%),
    radial-gradient(60vw 60vw at 85% 15%, rgba(52,211,153,.18), transparent 55%),
    #06121a;
  --surface-1: rgba(10,18,24,.78); --surface-2: rgba(14,26,28,.84);
  --line: rgba(180,230,230,.24);
  --ink:#e9fbff; --muted:#bfe9f5;
  --brand1:#22d3ee; --brand2:#34d399;
}
.theme--contrast{
  --page:#000;
  --surface-1:#0d0f13; --surface-2:#101317;
  --line:#0ff;
  --ink:#fbfdff; --muted:#d9f7ff;
  --brand1:#00e5ff; --brand2:#7df9ff;
  --shadow:0 30px 80px rgba(0,0,0,.65);
}

/* NEW: iOS / White Matt premium theme */
.theme--ios{
  --page:linear-gradient(180deg,#f9fafb 0%, #f2f4f7 100%);
  --surface-1:#ffffff;
  --surface-2:#f7f8fa;
  --line:rgba(15,23,42,.08);
  --ink:#0b1326;
  --muted:#536179;
  --brand1:#1c64f2; --brand2:#60a5fa;
  --shadow:
    0 1px 2px rgba(15,23,42,.04),
    0 8px 24px rgba(15,23,42,.08);
  --ring:0 0 0 4px rgba(28,100,242,.16);
}

/* ---------- Base ---------- */
body{
  font-family: Inter, Manrope, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  color:var(--ink);
  background:var(--page);
  min-height:100vh; overflow-x:hidden; position:relative;
}
.container{max-width:1200px;margin-inline:auto;padding-inline:clamp(16px,4vw,28px)}
.particle-layer{position:fixed;inset:0;pointer-events:none;z-index:-2}

/* Subtle moving grain/pixel aura for richness */
body::after{
  content:"";position:fixed;inset:-50%;pointer-events:none;z-index:-1;
  background:
    radial-gradient(circle, rgba(255,255,255,.04) 1px, transparent 1px) 0 0/80px 80px,
    radial-gradient(circle, rgba(255,255,255,.03) 1px, transparent 1px) 40px 40px/80px 80px;
  mix-blend-mode:soft-light;animation:bg-pan 36s linear infinite;
}
@keyframes bg-pan{to{transform:translate3d(-10%,-10%,0)}}

/* Orbs */
.orb{position:fixed;width:clamp(260px,40vw,600px);height:clamp(260px,40vw,600px);filter:blur(90px);opacity:.35;border-radius:50%;z-index:-1}
.orb-left{top:10vh;left:-12vw;background:var(--brand1)}
.orb-right{bottom:6vh;right:-12vw;background:#ff4d8d}

/* Android 4K “screen” effect (optional wrapper) */
.android-grid{
  position:relative; isolation:isolate; overflow:hidden;
}
.android-grid::before{
  content:""; position:absolute; inset:0; z-index:-1;
  background:
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0)),
    radial-gradient(60% 60% at 80% 10%, rgba(140,125,255,.12), transparent 60%),
    radial-gradient(60% 60% at 15% 90%, rgba(47,255,214,.12), transparent 60%);
  mix-blend-mode:screen;
}
.android-grid::after{
  content:""; position:absolute; inset:0; z-index:-1;
  background:
    linear-gradient(transparent, rgba(255,255,255,.02)),
    repeating-linear-gradient(90deg, rgba(255,255,255,var(--grid-alpha)) 0 1px, transparent 1px 24px),
    repeating-linear-gradient(0deg, rgba(255,255,255,var(--grid-alpha)) 0 1px, transparent 1px 24px);
  pointer-events:none;
}

/* ---------- Navigation ---------- */
.nav{display:flex;align-items:center;justify-content:space-between;padding:18px 0;position:sticky;top:0;z-index:40;backdrop-filter:saturate(120%) blur(10px);background:linear-gradient(to bottom, rgba(10,16,30,.45), rgba(10,16,30,0))}
.brand{display:flex;align-items:center;gap:.6rem;color:#fff;font-weight:800;letter-spacing:.02em}
.brand__beacon{width:14px;height:14px;border-radius:999px;background:radial-gradient(circle at 30% 30%, #fff, var(--brand2) 70%);box-shadow:0 0 0 0 rgba(120,240,255,.7);animation:beacon 1.8s ease-in-out infinite}
@keyframes beacon{0%{box-shadow:0 0 0 0 rgba(120,240,255,.7)}70%{box-shadow:0 0 0 10px rgba(120,240,255,0)}100%{box-shadow:0 0 0 0 rgba(120,240,255,0)}}
.nav__links{display:flex;gap:1.6rem}
.nav__links a{color:var(--muted);position:relative;padding:.2rem 0}
.nav__links a::after{content:"";position:absolute;left:0;bottom:-6px;width:100%;height:2px;background:linear-gradient(90deg,transparent,var(--brand2),transparent);transform:scaleX(0);transform-origin:center;transition:transform .28s ease}
.nav__links a:hover{color:#fff}
.nav__links a:hover::after{transform:scaleX(1)}
.nav__links a.is-active{color:#fff}
.nav__links a.is-active::after{transform:scaleX(1)}

/* ---------- Hero ---------- */
.hero{padding:clamp(24px,3vw,36px) 0 var(--s-5)}
.status-pill{display:inline-flex;align-items:center;gap:.6rem;border:1px solid var(--line);background:rgba(255,255,255,.06);padding:.45rem .85rem;border-radius:999px;margin-bottom:var(--s-2)}
.status-pill .live-dot{width:8px;height:8px;border-radius:50%;background:#22c55e;box-shadow:0 0 0 0 rgba(34,197,94,.5);animation:beacon 2.2s ease-in-out infinite}
.hero__grid{display:grid;grid-template-columns:1.08fr .92fr;gap:clamp(24px,6vw,56px);align-items:center}

.hero-title{font-size:var(--fs-h1);line-height:1.05;margin:var(--s-2) 0 .6rem;background:linear-gradient(90deg,#fff 25%,var(--p1),var(--p2));-webkit-background-clip:text;background-clip:text;color:transparent}
.hero-sub{max-width:56ch;color:var(--muted);margin-bottom:var(--s-2)}
.chips{display:flex;gap:.6rem;flex-wrap:wrap;margin:0 0 var(--s-2)}
.chip{padding:.6rem 1rem;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid var(--line);font-weight:600;color:#eaf2ff}
.hero__cta{display:flex;gap:1rem;flex-wrap:wrap}

/* Role tabs with animated bubble */
.role-tabs{position:relative;display:flex;gap:1rem;align-items:center;background:rgba(255,255,255,.06);border:1px solid var(--line);border-radius:16px;padding:.5rem 1rem;isolation:isolate}
.role-bubble{position:absolute;top:50%;left:0;translate:0 -50%;width:160px;height:56px;border-radius:999px;background:linear-gradient(120deg,var(--p1),var(--p2));box-shadow:0 18px 40px rgba(0,0,0,.35);transition:transform .35s cubic-bezier(.2,.8,.2,1),width .3s ease,height .3s ease;z-index:0}
.role-tab{position:relative;z-index:1;display:flex;align-items:center;gap:.7rem;padding:.6rem 1rem;border-radius:12px;color:#eaf4ff;font-weight:800;letter-spacing:.02em}
.role-tab .ico{display:grid;place-items:center;width:36px;height:36px;border-radius:999px;background:rgba(255,255,255,.08);box-shadow:inset 0 0 0 1px rgba(255,255,255,.08)}
.role-tab.is-active{color:#05121f}
.role-tab svg{width:22px;height:22px}
.draw{stroke-dasharray:220;stroke-dashoffset:220;animation:draw .9s ease forwards}
@keyframes draw{to{stroke-dashoffset:0}}

/* Persona stage (morph + WebGL) */
.persona-stage{position:relative;min-height:380px}
.morph{position:absolute;right:0;top:0;width:min(44vw,540px);z-index:1}
.morph-caption{position:absolute;right:0;top:0;transform:translate(20px,12px);padding:.25rem .55rem;border-radius:999px;border:1px solid var(--line);background:rgba(255,255,255,.06);font-size:.85rem;z-index:2}
#morphSvg path{filter:drop-shadow(0 20px 50px rgba(5,8,22,.45))}

/* ---------- Cities marquee (Stops on hover) ---------- */
.marquee{position:relative;border-block:1px solid rgba(124,92,255,.25);background:rgba(10,15,38,.55);backdrop-filter:blur(12px);border-radius:16px;margin:var(--s-3) 0;overflow:hidden}
.marquee .track{display:flex;gap:2rem;white-space:nowrap;animation:marq 28s linear infinite;padding:12px 16px}
.marquee:hover .track{animation-play-state:paused}
.marquee .item{display:inline-flex;align-items:center;gap:.5rem;padding:.35rem .85rem;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid var(--line);color:#eaf2ff;font-weight:700}
@keyframes marq{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

/* ---------- Sections / Cards ---------- */
.section-title{font-size:var(--fs-h2);margin:var(--s-3) 0 var(--s-1)}
.scope{display:none;animation:fade .45s ease}
.scope.is-active{display:block}
@keyframes fade{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

.card{background:var(--surface-1);border:1px solid var(--line);border-radius:var(--radius);padding:1.4rem;box-shadow:var(--shadow);margin:var(--s-2) 0}
.grid-2{display:grid;grid-template-columns:1.1fr .9fr;gap:1.2rem}
.col{display:grid;gap:var(--s-1)}
.info-card{background:var(--surface-2);border:1px dashed var(--line);border-radius:14px;padding:1rem}

.product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}
.product{background:linear-gradient(135deg,rgba(14,23,42,.86),rgba(88,28,135,.28));border:1px solid var(--line);border-radius:18px;padding:1.2rem;box-shadow:var(--shadow)}
.product h3{font-size:var(--fs-h3);margin-bottom:.4rem}
.ticks{margin:.6rem 0 0;padding-left:1.1rem}
.ticks li{margin:.35rem 0}

/* ---------- Forms ---------- */
.form-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin:1rem 0 1.2rem}
.form-grid .span-2{grid-column:span 2}
.form-grid input,.form-grid select,.form-grid textarea{background:rgba(255,255,255,.06);border:1px solid var(--line);border-radius:12px;color:#fff;padding:.8rem .9rem}
.input{width:100%;padding:.95rem 1rem;border-radius:14px;border:1px solid var(--line);background:rgba(255,255,255,.06);color:#fff}
.muted{color:var(--muted)}

.otp{display:flex;gap:.5rem}
.otp .otp-i{width:52px;text-align:center;font-weight:800;font-size:1.15rem;background:rgba(255,255,255,.06);color:#fff;border:1px solid var(--line);border-radius:10px;padding:.6rem 0}
.status{font-size:var(--fs-100);margin-top:.4rem;color:var(--muted)}
.elig-row{display:flex;align-items:center;justify-content:space-between;gap:.8rem}

/* ---------- Buttons ---------- */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;border-radius:14px;padding:.9rem 1.2rem;border:1px solid var(--line);cursor:pointer;user-select:none;transition:transform .18s ease, box-shadow .18s ease, background .18s ease}
.btn--primary{background:linear-gradient(120deg,var(--p1),var(--p2));color:#05121f;font-weight:800;box-shadow:0 18px 38px rgba(120,240,255,.18)}
.btn--primary:hover{transform:translateY(-1px)}
.btn--ghost{background:transparent;color:#eaf4ff}
.fab{position:fixed;right:16px;bottom:16px;z-index:50;display:grid;place-items:center;width:56px;height:56px;border-radius:999px;background:linear-gradient(120deg,var(--p1),var(--p2));color:#05121f;box-shadow:0 20px 40px rgba(0,0,0,.35);border:1px solid rgba(255,255,255,.12)}

/* ---------- Typing caret (used by JS typing effect) ---------- */
.type-caret{position:relative}
.type-caret::after{
  content:""; display:inline-block; width:1px; height:1em; background:currentColor;
  margin-left:2px; transform:translateY(3px); animation:blink .9s steps(2,end) infinite;
}
@keyframes blink{50%{opacity:0}}

/* ---------- Footer ---------- */
.footer{background:rgba(4,12,26,.8);border-top:1px solid rgba(143,186,255,.12);padding:3rem 0 1.6rem;margin-top:2rem}
.footer__grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.6rem}
.footer__brand{font-weight:800;font-size:1.2rem;display:inline-block;margin-bottom:.4rem}
.footer .soc{display:inline-flex;gap:.4rem;align-items:center;padding:.45rem .75rem;background:rgba(255,255,255,.08);border:1px solid var(--line);border-radius:999px;transition:transform .18s ease, background .18s ease}
.footer .soc:hover{transform:translateY(-1px);background:rgba(255,255,255,.12)}
.footer__social{display:flex;gap:.6rem;margin-top:.6rem}
.footer__bottom{text-align:center;color:rgba(255,255,255,.65);font-size:.9rem;margin-top:1.6rem;border-top:1px solid rgba(143,186,255,.12);padding-top:1rem}

/* ---------- Toast ---------- */
.toast{
  position:fixed;left:50%;bottom:18px;transform:translateX(-50%) translateY(16px);
  padding:.65rem 1rem;border-radius:12px;background:var(--toast-bg);color:#fff;border:1px solid rgba(255,255,255,.12);
  box-shadow:0 16px 50px rgba(0,0,0,.45);opacity:0;pointer-events:none;transition:opacity .2s ease, transform .2s ease;z-index:60
}
.toast.in{opacity:1;transform:translateX(-50%)}

/* ---------- Utilities ---------- */
.row-split{display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap}
.hidden{display:none !important}

/* LCP holder (image skeleton) */
.lcp-holder{position:relative;overflow:hidden;border-radius:16px;background:linear-gradient(90deg,rgba(255,255,255,.06),rgba(255,255,255,.12),rgba(255,255,255,.06));animation:shimmer 1.2s infinite;background-size:200% 100%}
@keyframes shimmer{0%{background-position:0 0}100%{background-position:200% 0}}

/* ---------- Explore pages header badges ---------- */
.badges{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.6rem}
.badge{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .55rem;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid var(--line);font-size:.9rem}

/* ---------- Modal (if used later) ---------- */
.modal{position:fixed;inset:0;display:none;place-items:center;z-index:70;background:rgba(3,6,16,.6);backdrop-filter:blur(8px)}
.modal[open]{display:grid}

/* ---------- Responsive ---------- */
@media (max-width: 1120px){
  .hero__grid{grid-template-columns:1fr}
  .persona-stage{min-height:320px}
}
@media (max-width: 640px){
  .form-grid{grid-template-columns:1fr}
  .role-bubble{width:140px;height:52px}
  .otp .otp-i{width:48px}
}

/* ---------- Reduced motion ---------- */
@media (prefers-reduced-motion: reduce){
  *{animation:none !important; transition:none !important; scroll-behavior:auto !important}
  .marquee .track{animation:none !important}
}

/* =========================================================
   Scroll-Spy helper classes (JS will toggle .is-active)
   ========================================================= */
[data-spy-section]{scroll-margin-top:90px} /* safe anchor offset under sticky nav */
