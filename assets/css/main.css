/* =========================================================
   HealthFlo â€” Premium Matte UI
   - Apple-style matte theme + Day / Clinic / Aurora / Night / High Contrast
   - Big animated Persona tabs + bubble
   - Spacious layout + glassmorphism touches
   - Marquee news-style "Cities we serve" (pauses on :hover)
   - Typing line + cursor
   - Scroll-Spy link accent
   - Micro-interactions & reduced motion
   ========================================================= */

/* ---------- Reset / A11y ---------- */
*,*::before,*::after{box-sizing:border-box}
*{margin:0;padding:0}
html,body{height:100%}
html{scroll-behavior:smooth; -webkit-text-size-adjust:100%}
:focus{outline:none}
.using-keyboard :focus-visible{outline:2px solid rgba(120,240,255,.85);outline-offset:3px;border-radius:8px}
img,svg,video,canvas{display:block;max-width:100%}
button,a{cursor:pointer}
a{text-decoration:none;color:inherit}
.skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip:focus{position:fixed;left:12px;top:12px;padding:.5rem 1rem;background:#fff;color:#000;border-radius:10px;z-index:999}

/* ---------- Tokens ---------- */
:root{
  --ff-1: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  --ff-2: Manrope, Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;

  /* Matte (default) */
  --ink:#0b1222;
  --ink-2:#1b2338;
  --text:#0e1426;
  --text-inv:#f6f8ff;
  --muted:#5b6b8f;
  --muted-inv:#bcd2ff;

  --brand-1:#6aa4ff;
  --brand-2:#2fe6c6;

  --bg:
    radial-gradient(60vw 60vw at 10% 8%, rgba(106,164,255,.14), transparent 55%),
    radial-gradient(60vw 60vw at 88% 14%, rgba(47,230,198,.12), transparent 55%),
    linear-gradient(180deg,#f7fafc,#edeff6);

  --glass: rgba(255,255,255,.66);
  --panel: #ffffffcc;
  --panel-2:#fff;
  --line: rgba(13,25,51,.12);
  --line-2: rgba(13,25,51,.2);
  --card-glow: 0 26px 70px rgba(10,20,40,.12);

  --radius-1: 22px;
  --radius-2: 16px;

  --space-1: .6rem;
  --space-2: 1rem;
  --space-3: 1.6rem;
  --space-4: 2.4rem;
  --space-5: 3.4rem;

  --chip-bg: color-mix(in oklab, var(--panel), #eaf0ff 18%);
  --chip-line: rgba(13,25,51,.14);

  /* Persona accents (updated dynamically via body.mode--*) */
  --p1:#78f0ff;
  --p2:#7c5cff;
}

/* ---------- Themes ---------- */
/* Apple-like MATTE (default on body.theme--matte) */
.theme--matte{
  --bg:
    radial-gradient(60vw 60vw at 10% 8%, rgba(106,164,255,.14), transparent 55%),
    radial-gradient(60vw 60vw at 88% 14%, rgba(47,230,198,.12), transparent 55%),
    linear-gradient(180deg,#f7fafc,#edeff6);
  --panel:#ffffffcc;
  --panel-2:#fff;
  --line: rgba(13,25,51,.12);
  --line-2: rgba(13,25,51,.2);
  --muted:#5b6b8f;
  --text:#0b1222;
  --text-inv:#0b1222;
}

/* Day (refined) */
.theme--day{
  --bg:linear-gradient(180deg,#ffffff,#f4f8ff);
  --panel:#ffffffea;
  --panel-2:#fff;
  --line: rgba(13,25,51,.12);
  --line-2: rgba(13,25,51,.2);
  --muted:#4b5b86;
  --text:#0b1222;
  --brand-1:#3b82f6; --brand-2:#22d3ee;
}

/* Clinic (cool teal/sky) */
.theme--clinic{
  --bg:
    radial-gradient(70vw 60vw at 10% 10%, rgba(34,211,238,.12), transparent 55%),
    radial-gradient(60vw 60vw at 85% 15%, rgba(52,211,153,.12), transparent 55%),
    #06121a;
  --panel: rgba(10,18,24,.78);
  --panel-2: rgba(10,24,22,.84);
  --line: rgba(160,220,255,.24);
  --line-2: rgba(160,220,255,.28);
  --text:#e9fbff;
  --muted:#bfe9f5;
  --text-inv:#e9fbff;
  --brand-1:#22d3ee; --brand-2:#34d399;
}

/* Aurora (mood) */
.theme--aurora{
  --bg:
    radial-gradient(60vw 60vw at 12% 8%, rgba(124,92,255,.16), transparent 55%),
    radial-gradient(60vw 60vw at 88% 14%, rgba(120,240,255,.12), transparent 55%),
    #070b1a;
  --panel: rgba(14,21,38,.78);
  --panel-2: rgba(18,28,48,.82);
  --line: rgba(148,163,184,.18);
  --line-2: rgba(148,163,184,.28);
  --text:#f4f6fb;
  --muted:#bcd2ff;
  --brand-1:#7c5cff; --brand-2:#78f0ff;
}

/* Night */
.theme--night{
  --bg:
    radial-gradient(60vw 60vw at 10% 10%, rgba(124,92,255,.18), transparent 55%),
    radial-gradient(60vw 60vw at 85% 15%, rgba(120,240,255,.16), transparent 55%),
    linear-gradient(180deg,#050816,#070b1a);
  --panel: rgba(12,16,35,.74);
  --panel-2: rgba(20,26,56,.82);
  --line: rgba(148,163,184,.18);
  --line-2: rgba(148,163,184,.3);
  --text:#f6f8ff;
  --muted:#cfe1ff;
}

/* High Contrast */
.theme--contrast{
  --bg:#000;
  --panel:#0d0f13;
  --panel-2:#101317;
  --line:#0ff;
  --line-2:#0ff;
  --text:#fbfdff;
  --muted:#d9f7ff;
  --brand-1:#00e5ff; --brand-2:#7df9ff;
}

/* ---------- Persona accents ---------- */
.mode--patient{ --p1:#78f0ff; --p2:#7c5cff; }
.mode--hospital{ --p1:#34d399; --p2:#22d3ee; }
.mode--insurer{ --p1:#ff86b5; --p2:#8b5cf6; }

/* ---------- Base / Layout ---------- */
body{
  font-family: var(--ff-1);
  color: var(--text);
  background: var(--bg);
  min-height:100vh; overflow-x:hidden; position:relative;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}
.container{max-width:1200px;margin-inline:auto;padding-inline:clamp(16px,4vw,28px)}
.particle-layer{position:fixed;inset:0;pointer-events:none;z-index:-2}
.orb{position:fixed;width:clamp(260px,40vw,600px);height:clamp(260px,40vw,600px);filter:blur(90px);opacity:.35;border-radius:50%;z-index:-1}
.orb-left{top:10vh;left:-12vw;background:var(--brand-1)}
.orb-right{bottom:6vh;right:-12vw;background:#ff4d8d}

/* ---------- Typography ---------- */
h1,h2,h3,h4{font-family:var(--ff-2);font-weight:800;letter-spacing:.2px}
.section-title{font-size:clamp(1.8rem,2.6vw,2.3rem);margin:var(--space-3) 0 var(--space-1)}

/* ---------- Navigation ---------- */
.nav{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 0; position:sticky; top:0; z-index:50;
  backdrop-filter:saturate(120%) blur(10px);
}
.brand{display:flex;align-items:center;gap:.6rem;color:var(--text-inv)}
.brand__name{font-weight:800;letter-spacing:.3px}
.brand__beacon{width:14px;height:14px;border-radius:999px;background:radial-gradient(circle at 30% 30%, #fff, var(--brand-2) 70%);box-shadow:0 0 0 0 rgba(120,240,255,.7);animation:beacon 1.8s ease-in-out infinite}
@keyframes beacon{0%{box-shadow:0 0 0 0 rgba(120,240,255,.7)}70%{box-shadow:0 0 0 12px rgba(120,240,255,0)}100%{box-shadow:0 0 0 0 rgba(120,240,255,0)}}

.nav__links{display:flex;gap:1.4rem}
.nav__links a{color:var(--muted);position:relative;transition:color .2s ease}
.nav__links a::after{
  content:"";position:absolute;left:0;bottom:-6px;width:100%;height:2px;
  background:linear-gradient(90deg,transparent,var(--p1),transparent);
  transform:scaleX(0);transform-origin:center;transition:transform .28s ease
}
/* Scroll-Spy active */
.nav__links a.active{color:var(--text-inv)}
.nav__links a:hover{color:var(--text-inv)}
.nav__links a:hover::after,.nav__links a.active::after{transform:scaleX(1)}
.nav__toggle{display:none;position:relative;width:42px;height:42px}
.nav__toggle span{position:absolute;left:10px;right:10px;height:2px;background:var(--text-inv);border-radius:2px;transition:transform .5s cubic-bezier(.68,-.55,.265,1.55),opacity .3s}
.nav__toggle span:nth-child(1){top:14px}.nav__toggle span:nth-child(2){top:20px}.nav__toggle span:nth-child(3){top:26px}
.nav__toggle[aria-expanded="true"] span:nth-child(1){transform:translateY(6px) rotate(45deg)}
.nav__toggle[aria-expanded="true"] span:nth-child(2){opacity:0}
.nav__toggle[aria-expanded="true"] span:nth-child(3){transform:translateY(-6px) rotate(-45deg)}
@media (max-width: 880px){
  .nav__toggle{display:inline-flex}
  .nav__links{
    position:absolute;top:100%;right:16px;width:min(320px,86vw);
    background:var(--panel);border:1px solid var(--line);border-radius:16px;
    box-shadow:var(--card-glow);padding:1rem;display:grid;gap:.8rem;
    transform-origin:top right;transform:scale(.92) translateY(-10px);
    opacity:0;pointer-events:none;transition:transform .38s cubic-bezier(.76,0,.24,1),opacity .28s ease
  }
  .nav__links[data-open="true"]{opacity:1;pointer-events:auto;transform:scale(1) translateY(0)}
}

/* ---------- Theme Switcher ---------- */
.theme{position:relative}
.theme__toggle{
  display:inline-flex;align-items:center;gap:.5rem;
  color:var(--ink);background:var(--panel);border:1px solid var(--line);
  padding:.55rem .9rem;border-radius:999px
}
.theme__toggle .dot{width:10px;height:10px;background:linear-gradient(90deg,var(--brand-1),var(--brand-2));border-radius:50%}
.theme__panel{
  position:absolute;right:0;margin-top:.5rem;background:var(--panel);
  border:1px solid var(--line);padding:.6rem;border-radius:14px;display:none;box-shadow:var(--card-glow)
}
.theme[aria-expanded="true"] .theme__panel{display:grid;gap:.4rem}
.tbtn{background:transparent;color:var(--ink);border:1px solid var(--line);border-radius:10px;padding:.55rem .9rem}
.tbtn.is-active{border-color:color-mix(in oklab, var(--p1), #000 0%);box-shadow:0 0 0 1px color-mix(in oklab, var(--p1), #000 0%) inset}

/* ---------- Hero ---------- */
.hero{padding:clamp(20px,3vw,28px) 0 var(--space-4)}
.status-pill{
  display:inline-flex;align-items:center;gap:.6rem;border:1px solid var(--line);
  background:var(--panel);padding:.45rem .85rem;border-radius:999px;margin-bottom:var(--space-2)
}
.status-pill .live-dot{width:8px;height:8px;border-radius:50%;background:#22c55e;box-shadow:0 0 0 0 rgba(34,197,94,.5);animation:beacon 2.2s ease-in-out infinite}
.hero__grid{display:grid;grid-template-columns:1.05fr .95fr;gap:clamp(24px,6vw,56px);align-items:center}
@media (max-width: 980px){ .hero__grid{grid-template-columns:1fr} }

/* Persona tabs with bubble */
.role-tabs{position:relative;display:flex;gap:12px;align-items:center;background:var(--panel);border:1px solid var(--line);border-radius:18px;padding:.6rem 1rem;isolation:isolate}
.role-bubble{
  position:absolute;top:50%;left:0;translate:0 -50%;width:140px;height:56px;border-radius:999px;
  background:linear-gradient(120deg,var(--p1),var(--p2));box-shadow:0 18px 40px rgba(0,0,0,.15);
  transition:transform .35s cubic-bezier(.2,.8,.2,1),width .25s ease,height .25s ease;z-index:0
}
.role-tab{
  position:relative;z-index:1;display:flex;align-items:center;gap:.7rem;padding:.65rem 1rem;border-radius:12px;
  color:var(--ink);font-weight:800;letter-spacing:.02em;transition:transform .18s ease
}
.role-tab .ico{display:grid;place-items:center;width:32px;height:32px;border-radius:999px;background:color-mix(in oklab, var(--panel), #000 4%);box-shadow:inset 0 0 0 1px var(--line)}
.role-tab svg{width:20px;height:20px}
.role-tab:active{transform:translateY(1px) scale(.99)}
.role-tab.is-active{color:#05121f}
.draw{stroke-dasharray:220;stroke-dashoffset:220;animation:draw .9s ease forwards}
@keyframes draw{to{stroke-dashoffset:0}}

.hero-title{
  font-size:clamp(2.2rem,5.1vw,4.2rem);line-height:1.05;margin:var(--space-2) 0 .6rem;
  background:linear-gradient(90deg,#000 25%,var(--p1),var(--p2));-webkit-background-clip:text;background-clip:text;color:transparent
}

/* Conversational typing line */
.type-line{display:flex;align-items:center;gap:.6rem;margin-bottom:var(--space-2);font-size:1.02rem;color:var(--muted)}
.type-line .prompt{opacity:.9}
.typewriter{font-weight:800;color:var(--ink)}
.cursor{width:10px;height:1.2rem;background:linear-gradient(180deg,var(--p1),var(--p2));display:inline-block;transform:translateY(2px);animation:blink 1s steps(1,end) infinite}
@keyframes blink{50%{opacity:0}}

.hero-sub{max-width:56ch;color:var(--muted);margin-bottom:var(--space-2)}
.chips{display:flex;gap:.6rem;flex-wrap:wrap;margin:0 0 var(--space-2)}
.chip{
  padding:.6rem 1rem;border-radius:999px;background:var(--chip-bg);
  border:1px solid var(--chip-line);color:var(--ink);font-weight:700
}
.hero__cta{display:flex;gap:1rem;flex-wrap:wrap}

/* Buttons */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;border-radius:14px;padding:.9rem 1.2rem;border:1px solid var(--line);transition:transform .14s ease, filter .14s ease}
.btn--primary{background:linear-gradient(120deg,var(--p1),var(--p2));color:#05121f;font-weight:800;box-shadow:0 18px 38px rgba(120,240,255,.18)}
.btn--primary:hover{filter:saturate(110%)}
.btn:active{transform:translateY(1px) scale(.995)}
.btn--ghost{background:transparent;color:var(--ink)}

/* Hero art holder */
.persona-stage{position:relative;min-height:380px}
.hero-art{
  border:1px solid var(--line);border-radius:22px;background:var(--panel);
  box-shadow: var(--card-glow), inset 0 1px 0 rgba(255,255,255,.12);
  min-height:380px
}

/* ---------- Marquee: Cities we serve ---------- */
.marquee{
  overflow:hidden;border-block:1px solid var(--line);background:var(--panel);
  padding:1rem 0;border-radius:16px;box-shadow:var(--card-glow)
}
.marquee .track{display:flex;gap:2rem;white-space:nowrap;animation:marquee 22s linear infinite;will-change:transform}
.marquee:hover .track{animation-play-state:paused}
.tag{display:inline-flex;align-items:center;gap:.4rem;padding:.5rem 1rem;border:1px solid var(--line);border-radius:999px;background:color-mix(in oklab, var(--panel), #000 4%);font-weight:700}
@keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

/* ---------- Sections / Cards ---------- */
.card{
  background:var(--panel);border:1px solid var(--line);border-radius:var(--radius-1);
  padding:1.4rem;box-shadow:var(--card-glow);margin:var(--space-2) 0
}
.row-split{display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap}
.muted{color:var(--muted)}

.product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}
.product{
  background:linear-gradient(135deg, color-mix(in oklab, var(--panel), #000 6%), color-mix(in oklab, var(--panel), #8a2be2 6%));
  border:1px solid var(--line);border-radius:18px;padding:1.2rem;box-shadow:var(--card-glow);transition:transform .2s ease, box-shadow .2s ease
}
.product:hover{transform:translateY(-4px)}
.product h3{display:flex;align-items:center;gap:.55rem;margin:0 0 .25rem}
.product p{opacity:.95;margin:.2rem 0 .6rem}
.product .i{opacity:.9;filter:drop-shadow(0 2px 8px rgba(0,0,0,.1))}
.ticks{margin:.5rem 0 0;padding-left:1.1rem}
.ticks li{margin:.28rem 0}

/* Persona sections visibility */
.scope{display:none;animation:fade .45s ease}
.scope.is-active{display:block}
@keyframes fade{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

/* ---------- Trust & Tech ---------- */
.trust__grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}
.badges{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.5rem}
.badge{padding:.4rem .8rem;border-radius:999px;border:1px solid var(--line);background:var(--panel-2);font-weight:800}
.code{
  background:color-mix(in oklab, var(--panel-2), #000 8%);
  border:1px solid var(--line);border-radius:12px;padding:.9rem;overflow:auto;margin-top:.6rem;color:var(--ink)
}

/* ---------- Contact ---------- */
.contact{text-align:center}
.contact .actions{display:flex;gap:.8rem;justify-content:center;flex-wrap:wrap}

/* ---------- Footer ---------- */
.footer{background:color-mix(in oklab, var(--panel), #000 4%);border-top:1px solid var(--line);padding:3rem 0 1.6rem;margin-top:2rem}
.footer__grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.6rem}
.footer__brand{font-weight:800;font-size:1.2rem;display:inline-block;margin-bottom:.4rem}
.footer h3{margin:0;color:var(--ink);font-size:1rem}
.footer ul{list-style:none;margin:1rem 0 0;padding:0;display:grid;gap:.5rem}
.footer__social{display:flex;gap:.6rem;margin:.6rem 0 0;flex-wrap:wrap}
.soc{display:inline-flex;gap:.45rem;align-items:center;padding:.4rem .7rem;border:1px solid var(--line);border-radius:999px;background:var(--panel-2);font-weight:700;transition:transform .16s ease}
.soc:hover{transform:translateY(-2px)}
.footer__bottom{text-align:center;color:color-mix(in oklab, var(--muted), #000 10%);font-size:.92rem;margin-top:1.2rem;border-top:1px solid var(--line);padding-top:1rem}

/* ---------- Utilities ---------- */
.hidden{display:none !important}
.grid-2{display:grid;grid-template-columns:1.1fr .9fr;gap:1.2rem}
.col{display:grid;gap:var(--space-1)}
.form-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin:1rem 0 1.2rem}
.form-grid .span-2{grid-column:span 2}
.form-grid input,.form-grid select,.form-grid textarea{background:color-mix(in oklab, var(--panel-2), #000 6%);border:1px solid var(--line);border-radius:12px;color:var(--ink);padding:.85rem .95rem}
.input{width:100%;padding:.95rem 1rem;border-radius:14px;border:1px solid var(--line);background:color-mix(in oklab, var(--panel-2), #000 6%)}

/* ---------- Animations / Motion ---------- */
@media (prefers-reduced-motion: reduce){
  *{animation:none !important; transition:none !important; scroll-behavior:auto !important}
  .marquee .track{animation:none !important}
}

/* ---------- Small screens ---------- */
@media (max-width: 980px){
  .grid-2{grid-template-columns:1fr}
  .form-grid{grid-template-columns:1fr}
}

/* ---------- Extras (subtle background texture) ---------- */
body::after{
  content:"";position:fixed;inset:-50%;pointer-events:none;z-index:-1;
  background:
    radial-gradient(circle, rgba(0,0,0,.04) 1px, transparent 1px) 0 0/80px 80px,
    radial-gradient(circle, rgba(0,0,0,.03) 1px, transparent 1px) 40px 40px/80px 80px;
  mix-blend-mode:soft-light;animation:bg-pan 36s linear infinite
}
@keyframes bg-pan{to{transform:translate3d(-10%,-10%,0)}}
