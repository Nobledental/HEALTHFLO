/* ==========================================================================
   HealthFlo â€” main.css (advanced)
   Fonts loaded in <head>: Inter + Manrope
   ========================================================================== */

/* ----------------------- Reset / A11y ----------------------- */
*,*::before,*::after{box-sizing:border-box}
*{margin:0;padding:0}
html,body{height:100%}
html{scroll-behavior:smooth;text-size-adjust:100%}
img,svg,video,canvas{display:block;max-width:100%}
button{border:0;background:none;cursor:pointer}
a{text-decoration:none;color:inherit}
input,select,textarea,button{font:inherit;color:inherit}
:focus{outline:none}
.skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip:focus{position:fixed;left:12px;top:12px;padding:.6rem 1rem;background:#fff;color:#000;border-radius:10px;z-index:999}
.using-keyboard :focus-visible{outline:2px solid #7de7ff;outline-offset:3px;border-radius:8px}

/* ----------------------- Tokens ----------------------- */
:root{
  /* Base (night defaults) */
  --ink:#eaf2ff;
  --muted:#b8c7e6;
  --bg-page:#070a16;
  --surface:rgba(14,18,36,.8);
  --surface-2:rgba(18,24,52,.85);
  --line:rgba(148,163,184,.18);
  --line-strong:rgba(148,163,184,.32);
  --radius:22px;
  --shadow:0 30px 80px rgba(10,15,38,.55);
  --ring:0 0 0 3px rgba(125,231,255,.18);

  /* Android HDR aurora stops */
  --hdr-1:#78f0ff; --hdr-2:#7c5cff; --hdr-3:#ff86b5; --hdr-4:#34d399; --hdr-5:#22d3ee;

  /* Persona accents (will change per mode) */
  --accent-1:#78f0ff;
  --accent-2:#7c5cff;

  /* Card gradients */
  --card-grad:linear-gradient(135deg, rgba(14,23,42,.88), rgba(88,28,135,.28));
  --card-blur:blur(10px);
  --glass-layer:color-mix(in oklab, var(--surface-2), transparent 12%);
  --glass-layer-strong:color-mix(in oklab, var(--surface-2), transparent 4%);
  --glass-outline:rgba(255,255,255,.04);
  --glass-sheen:linear-gradient(160deg, rgba(255,255,255,.18), transparent 65%);
  --shadow-soft:0 24px 70px rgba(5,8,26,.45);
  --shadow-accent:0 36px 96px color-mix(in oklab, var(--accent-2), transparent 78%);

  /* Typography scale */
  --fs-base:clamp(14px, .9vw + 12px, 18px);
  --fs-h1:clamp(2.4rem, 5vw, 4.6rem);
  --fs-h2:clamp(1.8rem, 3vw, 2.4rem);

  /* Layout spacing */
  --space-1:.6rem; --space-2:1rem; --space-3:1.6rem; --space-4:2.4rem;

  /* Marquee speed */
  --marquee-speed:24s;
}

/* Persona modes (accents) */
.mode--patient{ --accent-1:#78f0ff; --accent-2:#7c5cff; }
.mode--hospital{ --accent-1:#34d399; --accent-2:#22d3ee; }
.mode--insurer{ --accent-1:#ff86b5; --accent-2:#8b5cf6; }

/* Themes */
.theme--night{
  --ink:#eaf2ff; --muted:#b8c7e6;
  --bg-page:#070a16;
  --surface:rgba(14,18,36,.8);
  --surface-2:rgba(18,24,52,.85);
  --line:rgba(148,163,184,.18);
  --shadow:0 30px 80px rgba(10,15,38,.55);
  --card-grad:linear-gradient(135deg, rgba(14,23,42,.88), rgba(90,62,172,.28));
}
.theme--day{
  --ink:#0c1222; --muted:#4b5b86;
  --bg-page:linear-gradient(180deg,#f7fbff 0%,#eef5ff 100%);
  --surface:#ffffffea; --surface-2:#fff;
  --line:rgba(6,9,21,.12);
  --shadow:0 20px 50px rgba(14,22,48,.12);
  --card-grad:linear-gradient(135deg, rgba(255,255,255,.86), rgba(220,230,255,.38));
}
.theme--aurora{
  --ink:#eaf6ff; --muted:#cfe8ff;
  --bg-page:
    radial-gradient(70vw 60vw at 10% 10%, rgba(120,240,255,.16), transparent 55%),
    radial-gradient(70vw 60vw at 85% 15%, rgba(124,92,255,.16), transparent 55%),
    #060915;
  --surface:rgba(10,18,34,.78); --surface-2:rgba(12,22,44,.84);
  --line:rgba(160,200,255,.2);
}
.theme--clinic{
  --ink:#e6fbff; --muted:#ace3f1;
  --bg-page:
    radial-gradient(70vw 60vw at 10% 10%, rgba(34,211,238,.18), transparent 55%),
    radial-gradient(70vw 60vw at 85% 15%, rgba(52,211,153,.18), transparent 55%),
    #06121a;
  --surface:rgba(10,18,24,.78); --surface-2:rgba(10,24,22,.84);
  --line:rgba(140,220,240,.22);
}
.theme--apple{
  /* Apple Matte White (subtle ink, matte surfaces) */
  --ink:#0d1220; --muted:#5a657d;
  --bg-page:linear-gradient(180deg,#fcfdff 0%,#f4f6fb 100%);
  --surface:#ffffff; --surface-2:#f7f9fe;
  --line:rgba(12,24,52,.08);
  --shadow:0 16px 42px rgba(20,24,44,.10);
  --card-grad:linear-gradient(135deg, #ffffff, #f2f5fb);
}
.theme--contrast{
  --ink:#fbfdff; --muted:#d9f7ff;
  --bg-page:#000;
  --surface:#0d0f13; --surface-2:#101317;
  --line:#0ff;
  --shadow:0 24px 64px rgba(0,0,0,.65);
  --card-grad:linear-gradient(135deg, #0e1117, #131722);
}

/* ----------------------- Base / Layout ----------------------- */
body{
  font-family: Inter, Manrope, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  font-size:var(--fs-base);
  color:var(--ink);
  background:var(--bg-page);
  min-height:100vh; overflow-x:hidden; position:relative;
}
.container{max-width:1200px;margin-inline:auto;padding-inline:clamp(16px,4vw,28px)}
.particle-layer{position:fixed;inset:0;pointer-events:none;z-index:-2}
.grid-hdr{
  position:fixed; inset:0; pointer-events:none; z-index:-3;
  background:
    radial-gradient(60vw 50vw at 15% 10%, color-mix(in oklab, var(--accent-1), transparent 82%), transparent 60%),
    radial-gradient(60vw 50vw at 85% 12%, color-mix(in oklab, var(--accent-2), transparent 82%), transparent 60%),
    linear-gradient(180deg, transparent, rgba(0,0,0,.25));
}
.orb{position:fixed;width:clamp(260px,40vw,600px);height:clamp(260px,40vw,600px);filter:blur(90px);opacity:.35;border-radius:50%;z-index:-1}
.orb-left{top:10vh;left:-12vw;background:var(--accent-2)}
.orb-right{bottom:6vh;right:-12vw;background:var(--hdr-3)}

/* ----------------------- Nav ----------------------- */
.nav{
  display:flex;align-items:center;justify-content:space-between;
  padding:18px 0;position:sticky;top:0;z-index:40;
  backdrop-filter:saturate(120%) blur(10px);
  background:linear-gradient(to bottom, rgba(8,12,24,.55), rgba(8,12,24,0));
}
.brand{display:flex;align-items:center;gap:.6rem;color:#fff;font-weight:800}
.brand__beacon{width:14px;height:14px;border-radius:999px;background:radial-gradient(circle at 30% 30%, #fff, var(--accent-1) 70%);box-shadow:0 0 0 0 rgba(120,240,255,.7);animation:beacon 1.8s ease-in-out infinite}
@keyframes beacon{0%{box-shadow:0 0 0 0 rgba(120,240,255,.7)}70%{box-shadow:0 0 0 10px rgba(120,240,255,0)}100%{box-shadow:0 0 0 0 rgba(120,240,255,0)}}
.nav__links{display:flex;gap:1.4rem}
.nav__links a{color:var(--muted);position:relative}
.nav__links a::after{content:"";position:absolute;left:0;bottom:-6px;width:100%;height:2px;background:linear-gradient(90deg,transparent,var(--accent-1),transparent);transform:scaleX(0);transform-origin:center;transition:transform .28s ease}
.nav__links a:hover{color:#fff}
.nav__links a:hover::after{transform:scaleX(1)}
.spy.is-active{color:#fff}
.spy.is-active::after{transform:scaleX(1)}
.nav__toggle{display:none;position:relative;width:42px;height:42px}
.nav__toggle span{position:absolute;left:10px;right:10px;height:2px;background:#fff;border-radius:2px;transition:transform .5s cubic-bezier(.68,-.55,.265,1.55),opacity .3s}
.nav__toggle span:nth-child(1){top:14px}.nav__toggle span:nth-child(2){top:20px}.nav__toggle span:nth-child(3){top:26px}
.nav__toggle[aria-expanded="true"] span:nth-child(1){transform:translateY(6px) rotate(45deg)}
.nav__toggle[aria-expanded="true"] span:nth-child(2){opacity:0}
.nav__toggle[aria-expanded="true"] span:nth-child(3){transform:translateY(-6px) rotate(-45deg)}

/* Theme popover */
.theme{position:relative}
.theme__toggle{display:inline-flex;align-items:center;gap:.5rem;color:#eaf4ff;background:color-mix(in oklab, var(--surface-2), transparent 18%);padding:.5rem .9rem;border-radius:999px;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset}
.theme__toggle .dot{width:10px;height:10px;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));border-radius:50%}
.theme__panel{position:absolute;right:0;margin-top:.5rem;background:rgba(10,13,30,.96);padding:.6rem;border-radius:14px;display:none;box-shadow:var(--shadow-soft);border:0;backdrop-filter:blur(18px)}
.theme[aria-expanded="true"] .theme__panel{display:grid;gap:.4rem}
.tbtn{background:color-mix(in oklab, var(--surface-2), transparent 18%);color:#eaf4ff;border-radius:10px;padding:.55rem .9rem;border:0;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.06) inset}
.tbtn.is-active{box-shadow:0 0 0 1px color-mix(in oklab, var(--accent-1), transparent 40%) inset,0 1px 0 rgba(255,255,255,.1) inset,0 0 0 2px color-mix(in oklab, var(--accent-1), transparent 82%)}

/* ----------------------- Hero ----------------------- */
.hero{position:relative;padding:clamp(28px,4vw,48px) 0 var(--space-4);isolation:isolate}
.hero::before{
  content:"";position:absolute;inset:-80px -12vw auto; height:clamp(260px,58vh,520px);
  background:
    radial-gradient(55% 55% at 18% 18%, color-mix(in oklab, var(--accent-1), transparent 60%), transparent 75%),
    radial-gradient(45% 45% at 82% 24%, color-mix(in oklab, var(--accent-2), transparent 68%), transparent 75%);
  opacity:.38; filter:blur(100px); pointer-events:none; z-index:-1;
}
  background:linear-gradient(135deg,
    color-mix(in oklab, var(--surface-2), transparent 12%) 0%,
    color-mix(in oklab, var(--accent-1), transparent 68%) 42%,
    color-mix(in oklab, var(--accent-2), transparent 70%) 100%);
  background-size:220% 100%;
  padding:.52rem 1rem;
  border-radius:999px;
  margin-bottom:var(--space-2);
  backdrop-filter:blur(14px);
  box-shadow:0 18px 36px color-mix(in oklab, var(--accent-1), transparent 82%), 0 0 0 1px var(--glass-outline) inset;
  overflow:hidden;
  animation:status-flow 16s ease-in-out infinite;
  z-index:0;
}
.status-pill::after{
  content:"";
  position:absolute;
  inset:-40% -10% auto;
  height:140%;
  background:radial-gradient(circle at 10% 10%, rgba(255,255,255,.32), transparent 60%);
  opacity:.4;
  pointer-events:none;
  z-index:-1;
}
.status-pill i{display:inline-flex;align-items:center;justify-content:center;font-size:1rem;color:var(--accent-1)}
.status-pill .live-dot{width:8px;height:8px;border-radius:50%;background:#22c55e;box-shadow:0 0 0 0 rgba(34,197,94,.5);animation:beacon 2.2s ease-in-out infinite}
.hero__grid{display:grid;grid-template-columns:1fr;gap:clamp(24px,6vw,56px);align-items:start}

/* Role Tabs */
.role-tabs{
  position:relative;
  display:flex;
  gap:1rem;
  align-items:center;
  background:color-mix(in oklab, var(--surface-2), transparent 16%);
  border-radius:16px;
  padding:.6rem 1rem;
  isolation:isolate;
  overflow:hidden;
  overflow-x:auto;
  scrollbar-width:none;
  backdrop-filter:blur(18px);
  box-shadow:0 1px 0 rgba(255,255,255,.08) inset, 0 0 0 1px var(--glass-outline) inset;
}
.role-tabs::-webkit-scrollbar{display:none}
.role-bubble{
  position:absolute;
  top:50%;
  left:0;
  transform:translate3d(var(--bubble-x,0), -50%, 0);
  width:150px;
  height:58px;
  border-radius:999px;
  background:linear-gradient(120deg,var(--accent-1),var(--accent-2));
  box-shadow:0 18px 48px color-mix(in oklab, var(--accent-2), transparent 72%);
  transition:transform .35s cubic-bezier(.2,.8,.2,1), width .28s ease, height .28s ease, box-shadow .32s ease;
  pointer-events:none;
  z-index:0;
}
.role-tab{position:relative;z-index:1;display:flex;align-items:center;gap:.7rem;padding:.7rem 1rem;border-radius:12px;color:#eaf4ff;font-weight:800;letter-spacing:.02em;white-space:nowrap}
.role-tab .ico{display:grid;place-items:center;width:34px;height:34px;border-radius:999px;background:rgba(255,255,255,.08);box-shadow:inset 0 0 0 1px rgba(255,255,255,.08)}
.role-tab .i{width:20px;height:20px;fill:currentColor}
.role-tab.is-active{color:#05121f}

/* Typing line */
.hero-title{font-size:var(--fs-h1);line-height:1.05;margin:var(--space-2) 0 .6rem;background:linear-gradient(90deg,#fff 25%,var(--accent-1),var(--accent-2));-webkit-background-clip:text;background-clip:text;color:transparent}
.type{position:relative}
.type::after{content:"";display:inline-block;width:1px;height:1em;background:currentColor;margin-left:.12rem;transform:translateY(.2rem);animation:caret .9s steps(1,end) infinite}
@keyframes caret{50%{opacity:0}}
.hero-sub{max-width:60ch;color:var(--muted);margin-bottom:var(--space-2)}
.type-line{position:relative;display:block}
.typewriter__inner{display:inline-flex;align-items:center;gap:.4rem;flex-wrap:wrap;min-height:1.45em}
.typewriter__text{min-height:1.2em}
[data-typewriter-cursor]{
  display:inline-block;
  width:2px;
  height:1.2em;
  border-radius:999px;
  background:color-mix(in oklab, var(--accent-1), #fff 10%);
  opacity:.85;
  animation:typewriter-caret 1s steps(1,end) infinite;
}
html.no-js [data-typewriter-cursor]{display:none}
.type-line.is-static [data-typewriter-cursor]{display:none}
.chips{position:relative;display:flex;gap:.6rem;flex-wrap:wrap;margin:0 0 var(--space-2)}
.chips::after{
  content:"";
  position:absolute;
  inset:auto 0 -12px 0;
  height:1px;
  background:linear-gradient(90deg,transparent,color-mix(in oklab,var(--accent-1),transparent 60%),transparent);
  opacity:.35;
  pointer-events:none;
}
.chip{
  position:relative;
  padding:.6rem 1rem;
  border-radius:999px;
  background:linear-gradient(120deg, color-mix(in oklab, var(--surface-2), transparent 30%), color-mix(in oklab, var(--accent-1), transparent 70%));
  background-size:200% 100%;
  border:1px solid color-mix(in oklab, var(--line), transparent 30%);
  color:var(--ink);
  font-weight:700;
  overflow:hidden;
  animation:chip-flow 18s ease-in-out infinite;
  box-shadow:0 0 0 1px var(--glass-outline) inset, 0 1px 0 rgba(255,255,255,.08) inset;
}
.chip:nth-child(2){animation-delay:-6s}
.chip:nth-child(3){a
.chip:nth-child(3){animation-delay:-3s}
.chip::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(120deg,rgba(255,255,255,.12),transparent 55%);
  opacity:0;
  transition:opacity .4s var(--e1);
  pointer-events:none;
}
.chip:hover::after{opacity:.6}
.pill{display:inline-flex;align-items:center;gap:.35rem;padding:.45rem .85rem;border-radius:999px;background:color-mix(in oklab, var(--surface-2), transparent 14%);font-weight:600;font-size:.82rem;letter-spacing:.02em;color:var(--muted);text-transform:uppercase;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.06) inset}
.pill--hospital{border-color:color-mix(in oklab, var(--accent-2), transparent 40%);color:color-mix(in oklab, var(--accent-2), #fff 20%)}
.pill--insurer{border-color:color-mix(in oklab, #ff86b5, transparent 40%);color:color-mix(in oklab, #ff86b5, #fff 20%)}
.hero__cta{display:flex;gap:.8rem;flex-wrap:wrap;position:relative;z-index:0}
.hero__cta::before{
  content:"";
  position:absolute;
  inset:auto 18% -18px 18%;
  height:60px;
  background:radial-gradient(ellipse at center, color-mix(in oklab,var(--accent-1), transparent 55%), transparent 72%);
  opacity:.4;
  pointer-events:none;
  z-index:-1;
}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border-radius:14px;padding:.92rem 1.24rem;border:0;cursor:pointer;transition:transform .18s ease, box-shadow .24s ease;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset}
.btn:hover{transform:translateY(-1px)}
.btn--primary{
  position:relative;
  background:linear-gradient(120deg,var(--accent-1),var(--accent-2),var(--accent-1));
  background-size:200% 100%;
  color:#05121f;
  font-weight:900;
  box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.12) inset,0 18px 38px color-mix(in oklab, var(--accent-1), transparent 80%);
  overflow:hidden;
  animation:btn-gradient 12s ease-in-out infinite;
}
.btn--primary::after{
  content:"";
  position:absolute;
  inset:1px;
  border-radius:inherit;
  background:linear-gradient(120deg,rgba(255,255,255,.18),transparent 55%);
  mix-blend-mode:screen;
  opacity:.6;
  pointer-events:none;
}
.btn--ghost{background:color-mix(in oklab, var(--surface-2), transparent 20%);color:#eaf4ff;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset}

/* Morph stage */
.persona-stage{position:relative;min-height:320px}
.hero__scanlines{
  position:absolute;
  inset:-18% -22% -12%;
  background:repeating-linear-gradient(120deg,rgba(255,255,255,.04) 0,rgba(255,255,255,0) 8px,transparent 18px);
  mix-blend-mode:soft-light;
  opacity:.25;
  pointer-events:none;
  z-index:-2;
  animation:hero-scan 22s linear infinite;
}
.hero__flare{
  position:absolute;
  width:clamp(160px,22vw,260px);
  height:clamp(160px,22vw,260px);
  border-radius:50%;
  filter:blur(70px);
  opacity:.36;
  mix-blend-mode:screen;
  pointer-events:none;
  z-index:-1;
}
.hero__flare--one{top:-12%;left:6%;background:color-mix(in oklab,var(--accent-1),#fff 12%);animation:hero-flare 18s ease-in-out infinite}
.hero__flare--two{bottom:-6%;right:4%;background:color-mix(in oklab,var(--accent-2),#fff 12%);animation:hero-flare 20s ease-in-out infinite reverse}
.hero__halo{position:absolute;inset:auto -8% 12% 35%;width:clamp(220px,34vw,420px);aspect-ratio:1;border-radius:50%;background:conic-gradient(from 120deg,var(--accent-1),var(--accent-2),var(--accent-1));filter:blur(32px);opacity:.22;mix-blend-mode:screen;z-index:-1}
.hero__spark{position:absolute;width:120px;height:120px;border-radius:40px;background:linear-gradient(135deg,color-mix(in oklab,var(--accent-1),#fff 18%),transparent);filter:blur(20px);opacity:.45;mix-blend-mode:screen;pointer-events:none}
.hero__spark--one{top:12%;right:16%;animation:hero-spark-one 9s ease-in-out infinite}
.hero__spark--two{bottom:12%;left:6%;animation:hero-spark-two 11s ease-in-out infinite}
.hero-lcp-fallback{position:relative;right:auto;top:auto;width:min(420px,100%);margin-inline:auto;opacity:.5;filter:blur(.2px)}
.morph{position:relative;right:auto;top:auto;width:min(420px,100%);margin-inline:auto}
.morph-caption{position:absolute;right:0;top:0;transform:translate(20px,12px);padding:.25rem .55rem;border-radius:999px;background:color-mix(in oklab, var(--surface-2), transparent 18%);font-size:.85rem;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset}
.floating-metrics{position:relative;left:auto;bottom:auto;display:grid;gap:.9rem;list-style:none;padding:0;margin:1.8rem 0 0;width:100%;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.floating-metrics .metric-card{list-style:none}


.metric-card{position:relative;padding:1.2rem 1.3rem 1.3rem;border-radius:20px;background:color-mix(in oklab, var(--glass-layer-strong), var(--accent-1) 4%);backdrop-filter:blur(18px);box-shadow:var(--shadow-accent);overflow:hidden;transform:translateX(var(--tx,0));border:0;isolation:isolate}
.metric-card::after{content:"";position:absolute;inset:-60% 20% auto auto;width:160px;height:160px;background:radial-gradient(circle,rgba(255,255,255,.22),transparent 60%);opacity:.55;filter:blur(20px);pointer-events:none}
.metric-card::before{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset;pointer-events:none}
.metric-card__icon{position:absolute;top:-16px;right:16px;display:grid;place-items:center;width:44px;height:44px;border-radius:14px;background:linear-gradient(140deg,var(--accent-1),var(--accent-2));color:#05121f;box-shadow:0 16px 30px color-mix(in oklab, var(--accent-2), transparent 70%)}
.metric-card__icon i{font-size:1.3rem}
.metric-card__tag{font-size:.75rem;letter-spacing:.14em;text-transform:uppercase;color:color-mix(in oklab, var(--muted), transparent 10%);display:block;margin-bottom:.35rem}
.metric-card strong{display:block;font-size:clamp(1.9rem,4vw,2.6rem);line-height:1.05;color:#fff}
.metric-card__suffix{font-size:1.1rem;margin-left:.15rem;color:color-mix(in oklab,#fff, var(--accent-1) 18%)}
.metric-card p{color:color-mix(in oklab, var(--muted), #fff 10%);font-size:.88rem;line-height:1.4;margin-top:.35rem;max-width:26ch}

/* ----------------------- Cities marquee ----------------------- */
.row-split{display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap}
.section-title{font-size:var(--fs-h2);margin:var(--space-3) 0 var(--space-1)}
.slider-controls{display:flex;gap:.5rem}
.slider-btn{width:40px;height:40px;border-radius:50%;background:color-mix(in oklab, var(--surface-2), transparent 18%);color:#fff;font-size:1.2rem;line-height:1;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset}
.geo-marquee{overflow:hidden;background:color-mix(in oklab, var(--surface), transparent 10%);padding:1rem 0;backdrop-filter:blur(10px);box-shadow:0 1px 0 color-mix(in oklab, var(--accent-2), transparent 70%) inset,0 -1px 0 color-mix(in oklab, var(--accent-2), transparent 70%) inset}
.geo-marquee__track{display:flex;gap:2.2rem;white-space:nowrap;animation:marquee var(--marquee-speed) linear infinite}
.geo-marquee:hover .geo-marquee__track{animation-play-state:paused}
.geo-pill{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:999px;background:color-mix(in oklab, var(--surface-2), transparent 18%);color:#eaf3ff;font-weight:700;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset}
@keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

/* ----------------------- Cards / Sections ----------------------- */
.scope{display:none;animation:fade .45s ease}
.scope.is-active{display:block}
.scope-head p.muted{max-width:65ch}
.scope__layout{display:grid;gap:clamp(1.8rem,4vw,2.8rem);align-items:start;margin-top:1.8rem}
.scope__primary{display:grid;gap:clamp(1.4rem,3vw,2.2rem)}
.scope__aside{position:relative;display:grid;gap:clamp(1.1rem,3vw,1.8rem)}
.scope__aside h3{margin:0}
.scope__aside .info-card{margin-top:0}
.scope__aside .form-grid{margin-top:0}
.scope__aside .otp{justify-content:space-between}
.pill--patient{border-color:color-mix(in oklab, var(--accent-1), transparent 48%);color:color-mix(in oklab, var(--accent-1), #fff 20%)}
@keyframes fade{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
.card{
  position:relative;
  background:var(--glass-layer);
  border-radius:var(--radius);
  padding:clamp(1.6rem,3vw,2.2rem);
  box-shadow:var(--shadow-soft);
  margin:var(--space-2) 0;
  backdrop-filter:blur(18px);
  border:0;
  isolation:isolate;
}
.card::before{
  content:"";
  position:absolute;
  inset:1px;
  border-radius:inherit;
  background:var(--glass-sheen);
  opacity:.55;
  pointer-events:none;
  mix-blend-mode:screen;
}
.card::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset;
  pointer-events:none;
}
.grid-2{display:grid;grid-template-columns:1.1fr .9fr;gap:1.2rem}
.col{display:grid;gap:var(--space-1)}
.product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:clamp(1.2rem,3vw,1.9rem);align-items:stretch}
.product{
  position:relative;
  display:grid;
  gap:.6rem;
  background:
    linear-gradient(145deg, color-mix(in oklab, var(--accent-1), transparent 82%) 0%, transparent 70%),
    var(--glass-layer-strong);
  border-radius:20px;
  padding:clamp(1.4rem,3vw,1.8rem);
  box-shadow:var(--shadow-soft);
  overflow:hidden;
  border:0;
  backdrop-filter:blur(18px);
  isolation:isolate;
}
.product::before{
  content:"";
  position:absolute;
  inset:-42% -12% auto auto;
  width:72%;
  height:62%;
  background:radial-gradient(ellipse at 12% 30%, rgba(255,255,255,.25), transparent 60%),
             radial-gradient(ellipse at 78% 18%, color-mix(in oklab, var(--accent-2), transparent 60%), transparent 60%);
  filter:blur(18px);
  pointer-events:none;
  opacity:.78;
}
.product::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset;
  pointer-events:none;
}
.ticks--compact{padding-left:1rem;margin-top:.6rem}
.ticks--compact li{margin:.2rem 0;color:color-mix(in oklab,var(--muted),#fff 5%)}
.product h3{font-weight:900;margin:0 0 .35rem}
.product p{color:var(--muted);margin:0 0 .5rem}
.ticks{margin:.5rem 0 0;padding:0 0 0 1.1rem}
.ticks li{margin:.25rem 0}
.scope__aside .ticks{margin-top:.4rem}

/* Forms */
.form-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin:1rem 0 1.2rem}
.form-grid .span-2{grid-column:span 2}
.input, .form-grid input, .form-grid select, .form-grid textarea{
  width:100%;padding:.92rem 1rem;border-radius:12px;border:0;
  background:color-mix(in oklab, var(--surface-2), transparent 18%);color:#fff;
  box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.06) inset
}
.status{margin-top:.6rem;color:var(--muted)}
.otp{display:flex;gap:.5rem}
.otp .otp-i{width:52px;text-align:center;font-weight:800;font-size:1.2rem;background:color-mix(in oklab, var(--surface-2), transparent 18%);color:#fff;border:0;border-radius:10px;padding:.65rem 0;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.06) inset}
.info-card{position:relative;background:var(--glass-layer-strong);border-radius:16px;padding:1rem 1.1rem;border:0;box-shadow:0 18px 44px rgba(5,8,26,.38);backdrop-filter:blur(16px);isolation:isolate;overflow:hidden}
.info-card::after{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.06) inset;pointer-events:none}
.elig-row{display:flex;align-items:center;justify-content:space-between;gap:.8rem}

/* Trust / Tech */
.trust .badges{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.5rem}
.badge{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .55rem;border-radius:999px;background:linear-gradient(120deg,color-mix(in oklab,var(--accent-1),transparent 70%),color-mix(in oklab,var(--accent-2),transparent 78%));font-size:.86rem;color:#dff6ff;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset}
.code{position:relative;background:#0b142c;border-radius:12px;padding:.9rem;overflow:auto;color:#e6f1ff;border:0;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.04) inset}

/* Flow timeline */
.flow{position:relative;overflow:hidden}
.flow::after{content:"";position:absolute;inset:40% -20% -60% 40%;background:radial-gradient(circle at 20% 20%,color-mix(in oklab,var(--accent-1),transparent 70%),transparent 65%);opacity:.45;pointer-events:none;filter:blur(120px)}
.flow__legend{display:flex;gap:.5rem;flex-wrap:wrap}
.journey{position:relative;display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1.1rem;margin-top:1.4rem;z-index:1}
.journey__step{position:relative;padding:1.5rem 1.5rem 1.7rem;border-radius:20px;background:color-mix(in oklab,var(--glass-layer), transparent 6%);overflow:hidden;backdrop-filter:blur(18px);transition:border-color .4s ease, box-shadow .4s ease;box-shadow:0 20px 48px color-mix(in oklab,var(--accent-2), transparent 82%);border:0;isolation:isolate}
.journey__step::before{content:"";position:absolute;left:0;top:18px;bottom:18px;width:3px;border-radius:999px;background:linear-gradient(180deg,var(--accent-1),var(--accent-2));opacity:.6}
.journey__step.is-animated{box-shadow:0 26px 64px rgba(8,12,30,.42),0 0 0 1px color-mix(in oklab,var(--accent-1), transparent 70%) inset}
.journey__step::after{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.06) inset;pointer-events:none}
.journey__header{display:flex;align-items:center;justify-content:space-between;gap:.8rem;flex-wrap:wrap;margin-bottom:.5rem}
.journey__value{font-weight:700;color:#fff;font-size:.96rem;letter-spacing:.01em}
.journey__value span{font-size:1.32rem;margin-right:.1rem}
.journey__meter{position:relative;height:8px;border-radius:999px;background:rgba(255,255,255,.08);overflow:hidden;margin:1rem 0 .8rem}
.journey__meter span{position:absolute;inset:0 auto 0 0;width:0%;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));border-radius:999px;box-shadow:0 12px 30px color-mix(in oklab,var(--accent-2),transparent 75%)}

/* CTA / Contact */
.callout .row-split{align-items:center}
.contact{text-align:center;margin:1.8rem auto 2.6rem}
.contact .actions{display:flex;gap:.8rem;justify-content:center;flex-wrap:wrap}

/* Footer */
.footer{background:rgba(4,12,26,.6);padding:3rem 0 1.5rem;margin-top:2rem;box-shadow:0 1px 0 color-mix(in oklab, var(--accent-2), transparent 70%) inset}
.footer__grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.6rem}
.footer__brand{font-weight:800;font-size:1.2rem;display:inline-block;margin-bottom:.4rem}
.footer__social{display:flex;gap:.6rem;margin:.6rem 0 0}
.soc{display:inline-grid;place-items:center;width:38px;height:38px;border-radius:12px;background:color-mix(in oklab, var(--surface-2), transparent 18%);color:#eaf2ff;box-shadow:0 0 0 1px var(--glass-outline) inset,0 1px 0 rgba(255,255,255,.08) inset}
.soc svg{width:18px;height:18px;fill:currentColor}
.footer__bottom{text-align:center;color:rgba(255,255,255,.65);font-size:.9rem;margin-top:1.6rem;padding-top:1rem;box-shadow:0 -1px 0 color-mix(in oklab, var(--accent-2), transparent 72%) inset}

/* Toast + FAB */
.toast{
  position:fixed;
  left:50%;
  bottom:22px;
  transform:translateX(-50%) translateY(20px);
  background:rgba(10,14,28,.94);
  color:#dff3ff;
  padding:.75rem 1rem;
  border-radius:12px;
  box-shadow:var(--shadow-soft);
  opacity:0;
  pointer-events:none;
  transition:.25s ease;
  border:0;
  backdrop-filter:blur(14px);
}
.toast.in{transform:translateX(-50%) translateY(0);opacity:1}
.fab{
  position:fixed;right:14px;bottom:14px;z-index:65;display:grid;place-items:center;width:56px;height:56px;
  border-radius:999px;background:linear-gradient(135deg, var(--accent-1), var(--accent-2));color:#0b132a;
  box-shadow:0 16px 40px color-mix(in oklab, var(--accent-2), transparent 70%);
}

/* Visibility helpers */
.hidden{display:none !important}
                   
/* ----------------------- Media & Prefs ----------------------- */
@media (max-width: 980px){
  .hero__grid{grid-template-columns:1fr}
  .persona-stage{min-height:320px}
  .floating-metrics{position:relative;left:auto;bottom:auto;margin-top:1.8rem;width:100%;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}
  .metric-card,.metric-card:nth-child(2),.metric-card:nth-child(3){--tx:0}
  .hero-lcp-fallback,.morph{position:relative;width:100%;right:auto}
  .grid-2{grid-template-columns:1fr}
  .nav__toggle{display:inline-flex}
  .nav__links{display:none}
}
@media (min-width: 980px){
  .scope__layout{grid-template-columns:minmax(0,1.7fr) minmax(0,1fr)}
}
@media (prefers-reduced-motion: reduce){
  *{animation:none !important; transition:none !important; scroll-behavior:auto !important}
  .geo-marquee__track{animation:none !important}
}

/* ----------------------- Apple Matte tweaks ----------------------- */
.theme--apple .nav{
  background:linear-gradient(to bottom, rgba(255,255,255,.65), rgba(255,255,255,0));
  border-bottom:1px solid rgba(12,24,52,.06);
}
.theme--apple .chip{background:#f6f8fd;border-color:rgba(12,24,52,.08);color:#1c243a}
.theme--apple .btn--ghost{color:#0d1220}
.theme--apple .hero-title{background:linear-gradient(90deg,#0e1526 25%,#2f6dfd,#22d3ee);-webkit-background-clip:text;color:transparent}

/* ----------------------- Day & Clinic premium polish ----------------------- */
.theme--day .status-pill{background:#fff;border-color:rgba(14,22,48,.12)}
.theme--clinic .badge{background:rgba(52,211,153,.18);border-color:rgba(52,211,153,.35);color:#e8fff8}

/* ----------------------- High Contrast clarity ----------------------- */
.theme--contrast .chip{background:#0c0c0c;border-color:#0ff}
.theme--contrast .btn--primary{color:#010409}

/* ----------------------- Scroll-spy target highlight ----------------------- */
[data-scrollspy] [data-spy-target]{scroll-margin-top:80px}
