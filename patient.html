<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>HealthFlo — For Patients</title>
  <meta name="description" content="Cashless-first patient experience for India: 30s cashless check, transparent packages, and policy marketplace with IRDAI-aware flows." />

  <!-- Preconnect & Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Manrope:wght@500;700&display=swap" rel="stylesheet">

  <!-- LCP image (preload + high priority) -->
  <link rel="preload" as="image" href="assets/img/hero-static.svg" imagesrcset="assets/img/hero-static.svg" fetchpriority="high">

  <!-- Styles -->
  <link rel="stylesheet" href="assets/css/main.css"/>
  <link rel="stylesheet" href="assets/css/animations.css"/>

  <!-- GSAP (tiny entrances) -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

  <style>
    /* --- Page-specific premium touches (matte Apple-like) --- */
    body.theme--matte {
      --brand1:#111214; --brand2:#2c2d31;
      --ink:#0b0c10; --muted:#4f5564;
      --page: linear-gradient(180deg,#f9f9fb 0%, #f1f2f6 100%);
      --card: #fffffff2; --card-2: #fff; --line: rgba(6,9,21,.12);
      --shadow: 0 20px 60px rgba(0,0,0,.08);
      color:#0c1120;
    }
    body.theme--matte .nav__links a{color:#47506b}
    body.theme--matte .btn--ghost{color:#0c1120}

    .page-hero{padding:clamp(22px,3vw,40px) 0 28px}
    .page-hero .hero-wrap{display:grid;grid-template-columns:1.08fr .92fr;gap:clamp(22px,5vw,56px);align-items:center}
    .page-hero h1{font-family:Inter,system-ui,ui-sans-serif; font-weight:800; letter-spacing:-.01em; font-size:clamp(2.2rem,5.2vw,4.2rem); line-height:1.02;
      background:linear-gradient(90deg,#0f172a 0%, #0ea5e9 60%, #7c5cff 100%); -webkit-background-clip:text; background-clip:text; color:transparent}
    .type-line{display:flex;gap:.4rem;align-items:center;margin:10px 0 8px}
    .type-line .prompt{opacity:.7}
    .typewriter{min-width:12ch; font-weight:700}
    .cursor{display:inline-block; width:10px; height:1.15em; border-right:2px solid currentColor; transform:translateY(2px); animation:blink 1s step-end infinite}
    @keyframes blink{50%{border-color:transparent}}

    .hero-art{
      position:relative; min-height:360px; border-radius:22px; overflow:hidden;
      background:
        radial-gradient(700px 380px at 10% 15%, rgba(124,92,255,.18), transparent 60%),
        radial-gradient(700px 380px at 90% 20%, rgba(120,240,255,.16), transparent 60%),
        url('assets/img/hero-static.svg') center/contain no-repeat;
      box-shadow:0 24px 80px rgba(10,15,38,.25), inset 0 1px 0 rgba(255,255,255,.12);
    }
    .hero-art::after{ /* subtle 4K grid sheen */
      content:""; position:absolute; inset:0; pointer-events:none;
      background:
        linear-gradient(90deg, rgba(255,255,255,.06) 1px, transparent 1px) 0 0/22px 22px,
        linear-gradient(0deg, rgba(255,255,255,.05) 1px, transparent 1px) 0 0/22px 22px;
      mix-blend-mode:soft-light; opacity:.6;
    }

    /* News-like Cities Marquee */
    .marquee{position:relative; overflow:hidden; border-radius:16px; border:1px solid var(--line); background:var(--card-2); margin:18px 0 8px}
    .marquee .track{display:flex; gap:16px; padding:10px 12px; white-space:nowrap; animation:marq 26s linear infinite}
    .marquee .tag{display:inline-flex; align-items:center; gap:.5rem; padding:.45rem .8rem; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid var(--line)}
    .marquee:hover .track{animation-play-state:paused}
    @keyframes marq{to{transform:translateX(-50%)}}

    /* Product cards */
    .product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}
    .product{position:relative; background:linear-gradient(135deg,rgba(14,23,42,.86),rgba(88,28,135,.28));
      border:1px solid var(--line); border-radius:18px; padding:1.2rem; box-shadow:var(--shadow)}
    .product .i{width:26px;height:26px;opacity:.9; filter:drop-shadow(0 8px 24px rgba(0,0,0,.25))}
    .product h3{display:flex; align-items:center; gap:.6rem; margin:0 0 .3rem}
    .product p{color:var(--muted); margin:.2rem 0 .6rem}

    /* 30s Cashless card */
    .grid-2{display:grid; grid-template-columns:1.1fr .9fr; gap:1.2rem}
    .otp .otp-i{width:52px; text-align:center; font-weight:800; font-size:1.2rem}

    /* Nav highlight (scroll-spy) */
    .nav__links a.active{color:#fff}
    .nav__links a.active::after{transform:scaleX(1)}
    html{scroll-behavior:smooth}
    @media (prefers-reduced-motion: reduce){ html{scroll-behavior:auto} }

    @media (max-width: 960px){ .page-hero .hero-wrap{grid-template-columns:1fr} .grid-2{grid-template-columns:1fr} }
  </style>
</head>
<body class="hf theme--matte mode--patient">
  <a class="skip" href="#main">Skip to content</a>

  <!-- Ambient background -->
  <div class="orb orb-left" aria-hidden="true"></div>
  <div class="orb orb-right" aria-hidden="true"></div>
  <canvas id="particles" class="particle-layer" aria-hidden="true"></canvas>

  <!-- Header -->
  <header class="nav container">
    <a class="brand" href="/" aria-label="HealthFlo">
      <span class="brand__beacon" aria-hidden="true"></span>
      <span class="brand__name">HealthFlo</span>
    </a>

    <nav class="nav__links" aria-label="Primary">
      <a href="#hero" class="spy">Overview</a>
      <a href="#cities" class="spy">Cities</a>
      <a href="#products" class="spy">Products</a>
      <a href="#elig" class="spy">30s Cashless</a>
      <a href="#contact" class="spy">Contact</a>
    </nav>

    <div class="theme" aria-expanded="false">
      <button class="theme__toggle" aria-label="Theme studio"><span class="dot"></span><span>Theme</span></button>
      <div class="theme__panel" role="menu">
        <button class="tbtn is-active" data-theme="matte">Matte</button>
        <button class="tbtn" data-theme="day">Day</button>
        <button class="tbtn" data-theme="aurora">Aurora</button>
        <button class="tbtn" data-theme="night">Night</button>
        <button class="tbtn" data-theme="contrast">High Contrast</button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section id="hero" class="page-hero container">
    <div class="hero-wrap">
      <div>
        <h1>Find, book & pay for care — cashless first.</h1>

        <!-- Conversational typing line -->
        <div class="type-line" aria-live="polite">
          <span class="prompt">I need</span>
          <span class="typewriter" id="typewriter"></span><span class="cursor" aria-hidden="true"></span>
        </div>

        <p class="muted">Instant cashless checks, transparent packages, and optional 0% EMI for approved treatments. ABHA-ready flows, IRDAI-aware copy.</p>

        <div class="chips">
          <a class="chip" href="#elig">Cashless pre-auth</a>
          <a class="chip" href="#products">Transparent packages</a>
          <a class="chip" href="#products">Buy policy</a>
        </div>

        <div class="hero__cta" style="margin-top:.6rem">
          <a class="btn btn--primary" href="#elig">Check cashless now</a>
          <a class="btn btn--ghost" href="#products">See patient products</a>
        </div>
      </div>

      <div class="hero-art" aria-hidden="true"></div>
    </div>
  </section>

  <!-- Cities as news banner -->
  <section id="cities" class="container">
    <div class="row-split">
      <h2 class="section-title">Cities we serve</h2>
    </div>
    <div class="marquee" role="marquee" aria-label="Operating cities">
      <div class="track">
        <span class="tag">Delhi NCR</span>
        <span class="tag">Mumbai</span>
        <span class="tag">Bengaluru</span>
        <span class="tag">Hyderabad</span>
        <span class="tag">Chennai</span>
        <span class="tag">Pune</span>
        <!-- loop for seamless scroll -->
        <span class="tag">Delhi NCR</span>
        <span class="tag">Mumbai</span>
        <span class="tag">Bengaluru</span>
        <span class="tag">Hyderabad</span>
        <span class="tag">Chennai</span>
        <span class="tag">Pune</span>
      </div>
    </div>
  </section>

  <!-- Products -->
  <main id="main" class="container" role="main">
    <section id="products" class="product-grid" data-animate>
      <article class="product tilt">
        <h3><img class="i" src="assets/icons/cashless.svg" alt="" loading="lazy"> Cashless Eligibility (30s)</h3>
        <p>Check network cashless availability before formal pre-auth.</p>
        <ul class="ticks"><li>Major TPAs & insurers</li><li>Room rent/Co-pay hints</li><li>ABHA linking (optional)</li></ul>
      </article>
      <article class="product tilt">
        <h3><img class="i" src="assets/icons/search.svg" alt="" loading="lazy"> Transparent Packages</h3>
        <p>Indicative prices by city & specialty with clear breakdowns and taxes.</p>
        <ul class="ticks"><li>NABH partners</li><li>Day-care ready</li><li>No hidden fees</li></ul>
      </article>
      <article class="product tilt">
        <h3><img class="i" src="assets/icons/emi.svg" alt="" loading="lazy"> Buy Health Insurance Policy</h3>
        <p>IRDAI-aware listings by network strength, room eligibility & OPD add-ons.</p>
        <ul class="ticks"><li>NCB filters</li><li>Network view</li><li>Portability help</li></ul>
      </article>
      <article class="product tilt">
        <h3><img class="i" src="assets/icons/recovery.svg" alt="" loading="lazy"> Claim Concierge</h3>
        <p>Docs, follow-ups & reimbursements to reduce denials; WhatsApp updates.</p>
        <ul class="ticks"><li>Appeal templates</li><li>Discharge tracking</li><li>Escalation desk</li></ul>
      </article>
    </section>

    <!-- 30-second Cashless Eligibility -->
    <section id="elig" class="card grid-2" data-animate aria-label="30 second cashless eligibility">
      <div class="col">
        <h3>Check cashless eligibility in 30 seconds</h3>
        <div class="form-grid">
          <label class="span-2"><span>Phone</span><input id="phone" type="tel" inputmode="tel" placeholder="+91 98xxxxxxx0" autocomplete="tel"></label>
          <button type="button" class="btn btn--primary js-send-otp">Send OTP</button>
          <div class="otp-wrap hidden span-2">
            <div class="otp">
              <input class="otp-i" maxlength="1" inputmode="numeric"/>
              <input class="otp-i" maxlength="1" inputmode="numeric"/>
              <input class="otp-i" maxlength="1" inputmode="numeric"/>
              <input class="otp-i" maxlength="1" inputmode="numeric"/>
            </div>
            <button type="button" class="btn btn--primary js-verify-otp">Verify</button>
          </div>
        </div>
        <p id="otpStatus" class="status" role="status" aria-live="polite"></p>
      </div>

      <div class="col">
        <div class="info-card">
          <h4>Instant Eligibility + Co-pay</h4>
          <div class="form-grid">
            <label><span>Insurer</span>
              <select id="elig-ins"><option value="Any">Any</option><option>Care</option><option>HDFC ERGO</option><option>Star Health</option><option>Niva Bupa</option></select>
            </label>
            <label><span>City</span>
              <select id="elig-city"><option>Delhi</option><option>Mumbai</option><option>Bengaluru</option><option>Hyderabad</option><option>Chennai</option><option>Pune</option></select>
            </label>
            <label><span>Specialty</span>
              <select id="elig-spec"><option>General</option><option>Dental</option><option>Ophthalmology</option><option>IVF</option><option>Orthopedics</option><option>Cardiac</option><option>Oncology</option></select>
            </label>
            <label><span>Sum Insured (₹ L)</span>
              <select id="elig-sum"><option>3</option><option selected>5</option><option>10</option><option>15</option><option>20</option><option>25</option></select>
            </label>
          </div>
          <div class="elig-row">
            <div class="elig-result">We’ll compute your likely eligibility here.</div>
            <button id="elig-copy" class="btn btn--ghost">Copy</button>
          </div>
          <div class="form-grid">
            <label><span>Estimated bill (₹)</span><input id="co-bill" type="number" min="1000" step="500" placeholder="85000"></label>
            <label><span>Co-pay %</span><input id="co-rate" type="number" min="0" max="100" step="1" value="10"></label>
          </div>
          <div id="co-out" class="muted">Enter bill to estimate co-pay.</div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="card" id="contact" data-animate>
      <div class="row-split">
        <h3>Need help choosing?</h3>
        <div class="helper-actions">
          <a class="btn btn--primary" href="https://wa.me/?text=Hi%20HealthFlo%2C%20help%20me%20with%20cashless%20eligibility%20and%20plans.">WhatsApp in 30s</a>
          <a class="btn btn--ghost" href="mailto:hello@healthflo.io">Email us</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer (icon buttons) -->
  <footer class="footer">
    <div class="footer__grid container">
      <div>
        <span class="footer__brand">HealthFlo</span>
        <p>Cashless insurance for India — connected to hospitals & patients.</p>
        <div class="footer__social">
          <a href="#" aria-label="Twitter" class="soc"><img src="assets/icons/twitter.svg" alt="" width="18" height="18">Twitter</a>
          <a href="#" aria-label="LinkedIn" class="soc"><img src="assets/icons/linkedin.svg" alt="" width="18" height="18">LinkedIn</a>
          <a href="#" aria-label="YouTube" class="soc"><img src="assets/icons/youtube.svg" alt="" width="18" height="18">YouTube</a>
        </div>
      </div>
      <div>
        <h3>Patients</h3>
        <ul><li><a href="#products">Products</a></li><li><a href="#elig">Cashless (30s)</a></li></ul>
      </div>
      <div>
        <h3>Company</h3>
        <ul><li><a href="#cities">Locations</a></li><li><a href="#contact">Contact</a></li></ul>
      </div>
    </div>
    <div class="footer__bottom">© 2025 HealthFlo • Patients</div>
  </footer>

  <!-- Page logic -->
  <script>
    (function(){
      // Theme studio
      const theme = document.querySelector('.theme');
      theme?.querySelector('.theme__toggle')?.addEventListener('click', ()=> {
        theme.setAttribute('aria-expanded', theme.getAttribute('aria-expanded')!=='true');
      });
      theme?.querySelectorAll('.tbtn').forEach(b=>{
        b.addEventListener('click', ()=>{
          document.body.classList.remove('theme--matte','theme--day','theme--aurora','theme--night','theme--contrast');
          if(b.dataset.theme) document.body.classList.add(`theme--${b.dataset.theme}`);
          theme.setAttribute('aria-expanded','false');
          localStorage.setItem('hf-theme', b.dataset.theme);
        });
      });
      const saved = localStorage.getItem('hf-theme'); if(saved && saved!=='matte'){ document.body.classList.remove('theme--matte'); document.body.classList.add(`theme--${saved}`); }

      // Typing animation (texting vibe)
      const phrases = [
        "a cashless check at my hospital…",
        "a price for knee arthroscopy…",
        "the best plan for a single AC room…",
        "help with a reimbursement claim…"
      ];
      const tw = document.getElementById('typewriter');
      let pi = 0, ci = 0, del = false, wait = 0;
      function typeLoop(){
        const p = phrases[pi];
        if (!del){
          tw.textContent = p.slice(0, ++ci);
          if (ci === p.length){ del = true; wait = 900; }
        } else {
          if (wait>0){ wait-=40; }
          else {
            tw.textContent = p.slice(0, --ci);
            if (ci === 0){ del = false; pi=(pi+1)%phrases.length; }
          }
        }
        requestAnimationFrame(typeLoop);
      }
      typeLoop();

      // Light GSAP entrances
      if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches && window.gsap){
        gsap.from('.hero-wrap > *', {y:18, opacity:0, duration:.6, ease:'power2.out', stagger:.06});
        gsap.from('.product', {y:18, opacity:0, duration:.55, ease:'power2.out', stagger:.06, delay:.1});
      }

      // Scroll spy
      const links = [...document.querySelectorAll('.nav__links .spy')];
      const sections = links.map(a=> document.querySelector(a.getAttribute('href'))).filter(Boolean);
      const obs = new IntersectionObserver((ents)=>{
        ents.forEach(ent=>{
          const i = sections.indexOf(ent.target);
          if (i>-1){
            const link = links[i];
            if (ent.isIntersecting){ links.forEach(l=>l.classList.remove('active')); link.classList.add('active'); }
          }
        });
      }, {rootMargin:"-45% 0px -50% 0px", threshold:0.01});
      sections.forEach(s=> obs.observe(s));

      // OTP flow
      const phone = document.getElementById('phone');
      const sendBtn = document.querySelector('.js-send-otp');
      const verifyBtn = document.querySelector('.js-verify-otp');
      const wrap = document.querySelector('.otp-wrap');
      const inputs = Array.from(document.querySelectorAll('.otp-i'));
      const status = document.getElementById('otpStatus');
      let code = '';
      function gen(){ return String(Math.floor(1000 + Math.random()*9000)); }
      sendBtn?.addEventListener('click', ()=>{
        const digits = (phone.value||'').replace(/\D/g,'');
        if (digits.length < 10){ status.textContent='Enter a valid phone number.'; return; }
        code = gen();
        // In production: send OTP via your backend here
        wrap.classList.remove('hidden'); inputs[0].focus();
        status.textContent='OTP sent. Please enter the 4 digits.';
      });
      inputs.forEach((i,idx)=>{
        i.addEventListener('input', ()=>{ i.value = i.value.replace(/\D/g,'').slice(0,1); if(i.value && inputs[idx+1]) inputs[idx+1].focus(); });
        i.addEventListener('keydown', e=>{ if(e.key==='Backspace' && !i.value && inputs[idx-1]) inputs[idx-1].focus(); });
      });
      verifyBtn?.addEventListener('click', ()=>{
        const v = inputs.map(x=>x.value).join('');
        if (v.length<4){ status.textContent='Enter all digits.'; return; }
        if (v===code){ status.textContent='Phone verified ✓'; status.style.color='#22c55e'; }
        else { status.textContent='Incorrect code, try again.'; status.style.color='#ef4444'; }
      });

      // Eligibility + Co-pay
      const selects = {
        ins: document.getElementById('elig-ins'),
        city: document.getElementById('elig-city'),
        spec: document.getElementById('elig-spec'),
        sum : document.getElementById('elig-sum')
      };
      const out = document.querySelector('.elig-result');
      function estimate(spec, sum){
        const base = { general:.8, dental:.6, ophthalmology:.72, ivf:.55, orthopedics:.66, cardiac:.62, oncology:.5 };
        const b = base[String(spec).toLowerCase()] ?? .6;
        const s = parseInt(sum,10)||5;
        const adj = s>20 ? -0.1 : s>10 ? -0.05 : 0.02;
        const val = Math.min(.92, Math.max(.3, b+adj));
        return Math.round(val*100);
      }
      function renderElig(){
        const ins = selects.ins.value || 'Any';
        const city = selects.city.value;
        const spec = selects.spec.value;
        const sum = selects.sum.value;
        const pct = estimate(spec, sum);
        out.innerHTML = `<strong>Likely eligible: ${pct}%</strong> — for ${spec} with ₹${sum}L cover in ${city}. <em>${ins}</em>`;
      }
      Object.values(selects).forEach(el=> el?.addEventListener('change', renderElig));
      renderElig();

      // Copy result
      document.getElementById('elig-copy')?.addEventListener('click', async ()=>{
        try {
          await navigator.clipboard.writeText(out?.textContent?.trim() || '');
          const btn = document.getElementById('elig-copy');
          btn.textContent='Copied!';
          setTimeout(()=> btn.textContent='Copy', 1200);
        } catch {}
      });

      // Co-pay
      const bill = document.getElementById('co-bill'), rate = document.getElementById('co-rate'), coOut = document.getElementById('co-out');
      function copay(){
        const b = Number(bill.value||0), r = Math.min(100, Math.max(0, Number(rate.value||0)));
        if(!b){ coOut.textContent='Enter bill to estimate co-pay.'; return; }
        const cop = Math.round(b * (r/100));
        coOut.innerHTML = `Estimated co-pay: <b>₹${cop.toLocaleString('en-IN')}</b>. Net by insurer: <b>₹${(b-cop).toLocaleString('en-IN')}</b>.`;
      }
      bill?.addEventListener('input', copay); rate?.addEventListener('input', copay);

      // Tiny particles (non-blocking)
      const cvs = document.getElementById('particles'); if (cvs) {
        const ctx = cvs.getContext('2d'); let w= cResize(), h= cvs.height;
        function cResize(){ cvs.width = innerWidth; cvs.height = innerHeight; return cvs.width; }
        addEventListener('resize', ()=>{ w=cResize(); h=cvs.height; });
        const pts = Array.from({length: 60}, ()=>({x:Math.random()*w, y:Math.random()*h, vx:(Math.random()-.5)*.4, vy:(Math.random()-.5)*.4, r: Math.random()*2+0.6}));
        (function loop(){
          ctx.clearRect(0,0,w,h);
          ctx.fillStyle = 'rgba(124,92,255,.75)';
          pts.forEach(p=>{
            p.x+=p.vx; p.y+=p.vy;
            if(p.x<0||p.x>w) p.vx*=-1; if(p.y<0||p.y>h) p.vy*=-1;
            ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
          });
          requestAnimationFrame(loop);
        })();
      }
    })();
  </script>
</body>
</html>
